<!DOCTYPE html>
<html>
<head>
    <title>Firesphere Solr Search user/dev documentation</title>
    <link rel="stylesheet" href="/solr-docs/main.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta charset="utf-8"/>
</head>

<body>
<div id="layout">
    <!-- Menu toggle -->
    <a href="#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>
    <nav id="menu">
        <ul>
<li><a class="" href="../index.html">index</a></li>
<li><a class="" href="../01-Installation.html">Installation</a></li>
<li><a class="" href="../02-Solr.html">Solr</a></li>
<li><a class="" href="../03-Usage.html">Usage</a></li>
<li class="heading"><span>Advanced Options</span></li>
<ul>
<li><a class="" href="../04-Advanced-Options/01-Faceting.html">Faceting</a></li>
<li><a class="" href="../04-Advanced-Options/02-Boosting.html">Boosting</a></li>
<li><a class="" href="../04-Advanced-Options/03-Fuzzy-search.html">Fuzzy search</a></li>
<li><a class="" href="../04-Advanced-Options/04-Elevation.html">Elevation</a></li>
</ul>
<li><a class="" href="../05-Customisation.html">Customisation</a></li>
<li><a class="" href="../06-CMS-Usage.html">CMS Usage</a></li>
<li><a class="" href="../07-Debugging.html">Debugging</a></li>
<li><a class="" href="../08-Suggestions.html">Suggestions</a></li>
<li><a class="" href="../09-View-Permissions.html">View Permissions</a></li>
<li><a class="" href="../10-Dirty-classes.html">Dirty classes</a></li>
<li class="heading"><span>Submodules</span></li>
<ul>
<li><a class="active" href="01-Fulltext-Search-Compatibility.html">Fulltext Search Compatibility</a></li>
<li><a class="" href="02-Subsites.html">Subsites</a></li>
<li><a class="" href="03-Fluent.html">Fluent</a></li>
<li><a class="" href="04-Member-based-permissions.html">Member based permissions</a></li>
<li><a class="" href="05-Elemental.html">Elemental</a></li>
</ul>
<li class="heading"><span>Contributing</span></li>
<ul>
<li><a class="" href="../12-Contributing/01-Code-of-Conduct.html">Code of Conduct</a></li>
<li><a class="" href="../12-Contributing/02-Contributing.html">Contributing</a></li>
</ul>
<li class="heading"><span>Help</span></li>
<ul>
<li><a class="" href="../13-Help/01-Changelog.html">Changelog</a></li>
<li><a class="" href="../13-Help/02-FAQ.html">FAQ</a></li>
<li><a class="" href="../13-Help/03-Known-issues.html">Known issues</a></li>
</ul>
<li class="heading"><span>About</span></li>
<ul>
<li><a class="" href="../14-About/01-About.html">About</a></li>
<li><a class="" href="../14-About/02-Plans.html">Plans</a></li>
<li class="heading"><span>Codebase</span></li>
<ul>
<li><a class="" href="../14-About/03-Codebase/01-Main-stats.html">Main stats</a></li>
<li><a class="" href="../14-About/03-Codebase/02-Compatibility-stats.html">Compatibility stats</a></li>
<li><a class="" href="../14-About/03-Codebase/03-Member-permission-stats.html">Member permission stats</a></li>
<li><a class="" href="../14-About/03-Codebase/04-Fluent-stats.html">Fluent stats</a></li>
<li><a class="" href="../14-About/03-Codebase/05-Subsites-stats.html">Subsites stats</a></li>
</ul>
</ul>
</ul>
        <a class="sticky-bottom" href="https://enjoy.gitstore.app/repositories/Firesphere/silverstripe-solr-search"><img alt="Support our work on GitStore" src="https://enjoy.gitstore.app/repositories/badge-Firesphere/silverstripe-solr-search.svg" /></a>
    </nav>
    <article id="main" class="content">
        <h1 id="fulltext-search*-compatibility"><a href="https://github.com/Firesphere/silverstripe-solr-compatibility">Fulltext Search* Compatibility</a> <a class="heading-anchor-permalink" href="#fulltext-search*-compatibility">#</a></h1>
<p>To minimise the impact of migrating, there is a compatibility module available.
<a href="https://github.com/Firesphere/silverstripe-solr-compatibility">This module</a> will remove the need to completely update all your indexes.
A few small changes to your Search Controller and Results template may be needed however.</p>
<p>The primary difference between FTS and this module is the way it’s configured. Therefore some stubs are available in the compatibility module.
You can find this compatibility module here: <a href="https://github.com/Firesphere/silverstripe-solr-compatibility">https://github.com/Firesphere/silverstripe-solr-compatibility</a></p>
<h2 id="init-to-yml">Init to YML <a class="heading-anchor-permalink" href="#init-to-yml">#</a></h2>
<p>To get the <code>init()</code> method to a YML, the module provides a helper function. This requires the <a href="https://www.php.net/manual/en/book.yaml.php">PHP module <code>php_yaml</code></a> to be installed.</p>
<p>Easiest to get the YML is to do in your <code>PageController::init()</code></p>
<pre><code class="language-php">$index = new MyIndexClass();
$index-&gt;initToYml();
</code></pre>
<h2 id="stubs">Stubs <a class="heading-anchor-permalink" href="#stubs">#</a></h2>
<table>
<thead>
<tr>
<th>Method</th>
<th>Stub for</th>
<th>Calls</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FulltextSearchExtension::search()</code></td>
<td><code>doSearch()</code></td>
<td><code>BaseIndex::doSearch()</code></td>
<td>Prevent errors from calling the old method</td>
</tr>
<tr>
<td><code>FulltextSearchExtension::updateSearchResults()</code></td>
<td>None</td>
<td>None</td>
<td>Return an <code>ArrayData::class</code> instead of a <code>SearchResult::class</code></td>
</tr>
<tr>
<td><code>SearchQuery::addSearchTerm()</code></td>
<td><code>addTerm()</code></td>
<td><code>BaseQuery::addTerm()</code></td>
<td>Stub for old <code>addSearchTerm</code> method</td>
</tr>
<tr>
<td><code>SearchQuery::setLimit()</code></td>
<td><code>setRows()</code></td>
<td><code>BaseQuery::setRows()</code></td>
<td>Help prevent errors moving from <code>Limit</code> to <code>Rows</code></td>
</tr>
<tr>
<td><code>SearchQuery::getLimit()</code></td>
<td><code>getRows()</code></td>
<td><code>BaseQuery::setRows()</code></td>
<td>Help prevent errors moving from <code>Limit</code> to <code>Rows</code></td>
</tr>
<tr>
<td><code>Solr::configure_server()</code></td>
<td>Configuration</td>
<td>None</td>
<td>Old way of configuring support</td>
</tr>
<tr>
<td><code>SolrIndex::getIndexName()</code></td>
<td>New naming convention</td>
<td>None</td>
<td>Prevent errors moving from the old automated naming to the required naming</td>
</tr>
</tbody>
</table>
<h4 id="note">Note <a class="heading-anchor-permalink" href="#note">#</a></h4>
<p>When upgrading your Solr instance from Solr4 to Solr5+, a full index will be needed regardless.</p>
<hr>
<p>* From here on called “FTS”</p>

        <hr />
            <h2>Support our work</h2>
        <p>
            <a href="https://enjoy.gitstore.app/repositories/Firesphere/silverstripe-solr-search"><img alt="Support our work on GitStore" src="https://enjoy.gitstore.app/repositories/badge-Firesphere/silverstripe-solr-search.svg" /></a>
        </p>
    </article>
</div>
<noscript><p><img src="https://piwik.casa-laguna.net/matomo.php?idsite=13&amp;rec=1" style="border:0;" alt=""/></p>
</noscript>
<script src="/solr-docs/main.js"></script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
</body>
</html>
